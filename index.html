<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema RIDEC - Controle de Processos</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-project-diagram"></i> Sistema RIDEC</h1>
            <div class="header-actions">
                <button id="newRidecBtn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Novo RIDEC
                </button>
                <button id="autoCreateRidecBtn" class="btn btn-ai">
                    <i class="fas fa-magic"></i> Criar com IA
                    <span class="ai-badge">ü§ñ</span>
                </button>
                <button id="occurrencesBtn" class="btn btn-info" title="Gerenciar Ocorr√™ncias">
                    <i class="fas fa-list-alt"></i> Cards
                </button>
                <button id="cadastroBtn" class="btn btn-success" title="Cadastros">
                    <i class="fas fa-user-plus"></i> Cadastros
                </button>

                <div class="notification-bell">
                    <button id="notificationBell" class="btn btn-icon" title="RIDECs Atrasados">
                        <i class="fas fa-bell"></i>
                        <span id="notificationCount" class="notification-count" style="display: none;">0</span>
                    </button>
                    <div id="notificationDropdown" class="notification-dropdown">
                        <div class="notification-header">
                            <h3>RIDECs Atrasados</h3>
                            <button id="clearAllNotifications" class="btn-clear-all">Limpar todas</button>
                        </div>
                        <div id="notificationList" class="notification-list">
                            <!-- Notifica√ß√µes ser√£o adicionadas aqui -->
                        </div>
                    </div>
                </div>

                <!-- Se√ß√£o do Usu√°rio -->
                <div id="userSection" class="user-section" style="display: none;">
                    
                    <span id="userName" class="user-name">Usu√°rio</span>
                    
                    <button id="logoutBtn" class="btn btn-logout" title="Sair do Sistema">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </header>

        <!-- Notification Area (mantido para compatibilidade) -->
        <div id="notificationArea" class="notification-area" style="display: none;"></div>



        <!-- Main Content -->
        <main class="main-content">
            <!-- Search Bar -->
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" placeholder="Buscar RIDECs por t√≠tulo, descri√ß√£o ou √°rea..." class="search-input">
                    <button id="clearSearchBtn" class="clear-search-btn" style="display: none;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <!-- View Toggle -->
            <div class="view-toggle">
                <button id="cardViewBtn" class="btn btn-primary active">
                    <i class="fas fa-th-large"></i> Visualiza√ß√£o em Cards
                </button>
            </div>

            <!-- RIDEC List (Card View) -->
            <div id="ridecList" class="ridec-list">
                <!-- RIDEC cards will be dynamically added here -->
            </div>

            <!-- Flow View -->
            <div id="flowView" class="flow-view" style="display: none;">
                <div id="flowContainer" class="flow-container">
                    <!-- Flow diagram will be dynamically added here -->
                </div>
            </div>

            <!-- Charts View -->
            <div id="chartsView" class="charts-view" style="display: none;">
                <div class="charts-header">
                    <h2><i class="fas fa-chart-bar"></i> An√°lise de Modelos RIDEC por √Årea</h2>
                    <p>Visualize estat√≠sticas e tempos dos modelos RIDEC organizados por √°rea</p>
                </div>
                
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Distribui√ß√£o de Modelos RIDEC por √Årea</h3>
                            <p>Quantidade de modelos RIDEC em cada √°rea</p>
                        </div>
                        <canvas id="ridecsByAreaChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Tempo Total dos Modelos por √Årea</h3>
                            <p>Soma dos tempos m√°ximos de todos os modelos RIDEC por √°rea</p>
                        </div>
                        <canvas id="timeByAreaChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Status das Ocorr√™ncias RIDEC</h3>
                            <p>Distribui√ß√£o das ocorr√™ncias por status</p>
                        </div>
                        <canvas id="occurrencesStatusChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Progresso das Ocorr√™ncias por √Årea</h3>
                            <p>Progresso m√©dio das ocorr√™ncias ativas por √°rea</p>
                        </div>
                        <canvas id="occurrencesProgressChart"></canvas>
                    </div>
                </div>
                
                <div class="charts-summary">
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="summary-content">
                            <h4>Total de Modelos</h4>
                            <span id="totalRidecs">0</span>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="summary-content">
                            <h4>Tempo Total Planejado</h4>
                            <span id="totalPlannedTime">0h</span>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="summary-content">
                            <h4>Modelos Conclu√≠dos</h4>
                            <span id="completedRidecs">0</span>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-plug"></i>
                        </div>
                        <div class="summary-content">
                            <h4>Tempo de Integra√ß√£o</h4>
                            <span id="totalIntegrationTime">0h</span>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="summary-content">
                            <h4>Total de Ocorr√™ncias</h4>
                            <span id="totalOccurrences">0</span>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="summary-content">
                            <h4>Ocorr√™ncias Ativas</h4>
                            <span id="activeOccurrences">0</span>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="summary-content">
                            <h4>Ocorr√™ncias Atrasadas</h4>
                            <span id="overdueOccurrences">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal for creating/editing RIDEC -->
    <div id="ridecModal" class="modal modern-modal">
        <div class="modal-content modern-modal-content">
            <div class="modal-header modern-header">
                <div class="modal-title-section">
                    <div class="modal-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="modal-title-content">
                        <h2 id="modalTitle">Novo RIDEC Modelo</h2>
                        <p class="modal-subtitle">Configure seu processo de controle de tempo</p>
                    </div>
                </div>
                <span class="close modern-close">&times;</span>
            </div>
            
            <div class="modal-body modern-body">
                <form id="ridecForm" class="modern-form">
                    <!-- Progress Indicator -->
                    <div class="form-progress">
                        <div class="progress-step active" data-step="1">
                            <div class="step-number">1</div>
                            <div class="step-label">Informa√ß√µes B√°sicas</div>
                        </div>
                        <div class="progress-step" data-step="2">
                            <div class="step-number">2</div>
                            <div class="step-label">Configura√ß√£o de Tempo</div>
                        </div>
                        <div class="progress-step" data-step="3">
                            <div class="step-number">3</div>
                            <div class="step-label">Relacionamentos</div>
                        </div>
                    </div>

                    <!-- Step 1: Basic Information -->
                    <div class="form-step active" data-step="1">
                        <div class="step-header">
                            <h3><i class="fas fa-info-circle"></i> Informa√ß√µes B√°sicas</h3>
                            <p>Defina o nome, descri√ß√£o e √°rea do seu RIDEC</p>
                        </div>
                        
                        <div class="form-card">
                            <div class="form-group modern-group">
                                <label for="ridecTitle" class="modern-label">
                                    <i class="fas fa-tag"></i> T√≠tulo do RIDEC
                                </label>
                                <div class="input-wrapper">
                                    <input type="text" id="ridecTitle" class="modern-input" placeholder="Ex: Processo de Desenvolvimento de Software" required>
                                    <div class="input-icon">
                                        <i class="fas fa-check-circle valid-icon"></i>
                                        <i class="fas fa-exclamation-circle error-icon"></i>
                                    </div>
                                </div>
                                <div class="input-feedback"></div>
                            </div>
                            
                            <div class="form-group modern-group">
                                <label for="ridecDescription" class="modern-label">
                                    <i class="fas fa-align-left"></i> Descri√ß√£o
                                </label>
                                <div class="textarea-wrapper">
                                    <textarea id="ridecDescription" class="modern-textarea" rows="3" placeholder="Descreva o processo e seus objetivos..."></textarea>
                                    <div class="char-counter">
                                        <span class="current-chars">0</span>/<span class="max-chars">500</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group modern-group">
                                <label for="ridecArea" class="modern-label">
                                    <i class="fas fa-folder"></i> √Årea
                                </label>
                                <div class="select-wrapper">
                                    <select id="ridecArea" class="modern-select" required>
                                        <option value="">Selecione uma √°rea</option>
                                        <option value="Desenvolvimento" data-icon="fas fa-code">Desenvolvimento</option>
                                        <option value="Vendas" data-icon="fas fa-chart-line">Vendas</option>
                                        <option value="Marketing" data-icon="fas fa-bullhorn">Marketing</option>
                                        <option value="Financeiro" data-icon="fas fa-dollar-sign">Financeiro</option>
                                        <option value="Recursos Humanos" data-icon="fas fa-users">Recursos Humanos</option>
                                        <option value="Opera√ß√µes" data-icon="fas fa-cogs">Opera√ß√µes</option>
                                        <option value="Suporte" data-icon="fas fa-headset">Suporte</option>
                                        <option value="Qualidade" data-icon="fas fa-check-circle">Qualidade</option>
                                        <option value="Infraestrutura" data-icon="fas fa-server">Infraestrutura</option>
                                        <option value="Outros" data-icon="fas fa-folder">Outros</option>
                                    </select>
                                    <div class="select-arrow">
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Time Configuration -->
                    <div class="form-step" data-step="2">
                        <div class="step-header">
                            <h3><i class="fas fa-clock"></i> Configura√ß√£o de Tempo</h3>
                            <p>Configure as unidades de tempo e prazos das etapas</p>
                        </div>
                        
                        <div class="form-card">
                            <div class="nonconformity-section">
                                <div class="form-group modern-group">
                                    <label for="ridecNonconformityPercent" class="modern-label">
                                        <i class="fas fa-exclamation-triangle"></i> Percentual de N√£o Conformidades
                                    </label>
                                    <div class="percent-input-wrapper">
                                        <input type="number" id="ridecNonconformityPercent" class="modern-input" min="0" max="100" step="0.1" placeholder="0.0">
                                        <span class="percent-label">%</span>
                                    </div>
                                    <div class="input-help">
                                        <i class="fas fa-info-circle"></i>
                                        <span>Define o percentual esperado de n√£o conformidades para este modelo de processo</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="time-config-section">
                                <div class="form-group modern-group">
                                    <label for="ridecTimeUnit" class="modern-label">
                                        <i class="fas fa-hourglass-half"></i> Unidade de Tempo Principal
                                    </label>
                                    <div class="select-wrapper">
                                        <select id="ridecTimeUnit" class="modern-select">
                                            <option value="seconds">Segundos</option>
                                            <option value="minutes">Minutos</option>
                                            <option value="hours" selected>Horas</option>
                                            <option value="days">Dias</option>
                                            <option value="weeks">Semanas</option>
                                        </select>
                                        <div class="select-arrow">
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-group modern-group">
                                    <label for="ridecMaxTime" class="modern-label">
                                        <i class="fas fa-stopwatch"></i> Tempo M√°ximo Total
                                    </label>
                                    <div class="time-input-wrapper">
                                        <input type="number" id="ridecMaxTime" class="modern-input" min="1">
                                        <span class="time-unit-label" id="maxTimeUnitLabel">horas</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="time-control-mode-section">
                                <div class="time-control-header">
                                    <h4><i class="fas fa-sliders-h"></i> Modo de Controle de Tempo</h4>
                                    <p>Escolha como deseja controlar o tempo do RIDEC</p>
                                </div>
                                <div class="time-control-options">
                                    <label class="time-control-option">
                                        <input type="radio" name="timeControlMode" id="detailedMode" value="detailed" checked>
                                        <div class="option-content">
                                            <div class="option-icon">
                                                <i class="fas fa-clock"></i>
                                            </div>
                                            <div class="option-text">
                                                <h5>Controle Detalhado</h5>
                                                <p>Configure prazos individuais para cada etapa (RI, D, E, C)</p>
                                            </div>
                                        </div>
                                    </label>
                                    <label class="time-control-option">
                                        <input type="radio" name="timeControlMode" id="simpleMode" value="simple">
                                        <div class="option-content">
                                            <div class="option-icon">
                                                <i class="fas fa-play-circle"></i>
                                            </div>
                                            <div class="option-text">
                                                <h5>Controle Simples</h5>
                                                <p>Apenas tempo total do RIDEC (in√≠cio ao fim)</p>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="deadlines-section" id="detailedTimeSection">
                                <div class="deadlines-header">
                                    <h4><i class="fas fa-calendar-alt"></i> Prazos das Etapas RIDEC</h4>
                                    <div class="unified-time-option">
                                        <label class="unified-time-label">
                                            <input type="checkbox" id="useUnifiedTime" class="unified-time-checkbox">
                                            <span class="unified-time-text">
                                                <i class="fas fa-link"></i> Usar mesma unidade para todas as etapas
                                            </span>
                                        </label>
                                        <div class="unified-time-selector" style="display: none;">
                                            <select id="unifiedTimeUnit" class="modern-select unified-select">
                                                <option value="seconds">Segundos</option>
                                                <option value="minutes">Minutos</option>
                                                <option value="hours" selected>Horas</option>
                                                <option value="days">Dias</option>
                                                <option value="weeks">Semanas</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="deadlines-grid modern-grid">
                                    <div class="deadline-card" data-stage="RI">
                                        <div class="deadline-header">
                                            <div class="stage-icon ri-icon">
                                                <i class="fas fa-play"></i>
                                            </div>
                                            <div class="stage-info">
                                                <h5>Requisitos e In√≠cio</h5>
                                                <p>Defini√ß√£o inicial e planejamento</p>
                                            </div>
                                        </div>
                                        <div class="deadline-inputs">
                                            <div class="time-input-group modern-group">
                                                <label for="deadlineRI" class="modern-label">
                                                    <i class="fas fa-clock"></i> Prazo
                                                </label>
                                                <div class="time-input-wrapper">
                                                    <input type="number" id="deadlineRI" class="modern-input" min="1">
                                                    <select class="deadline-unit-select modern-select" id="unitRI">
                                                        <option value="seconds">Segundos</option>
                                                        <option value="minutes">Minutos</option>
                                                        <option value="hours" selected>Horas</option>
                                                        <option value="days">Dias</option>
                                                        <option value="weeks">Semanas</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="descriptionRI" class="modern-label">
                                                    <i class="fas fa-align-left"></i> Descri√ß√£o da Etapa
                                                </label>
                                                <textarea id="descriptionRI" class="modern-textarea" rows="2" placeholder="Descreva as atividades desta etapa..."></textarea>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="pathRI" class="modern-label">
                                                    <i class="fas fa-folder-open"></i> Caminho do Arquivo
                                                </label>
                                                <div class="input-wrapper">
                                                    <input type="text" id="pathRI" class="modern-input" placeholder="Ex: /caminho/para/arquivo/documento.pdf">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="deadline-card" data-stage="D">
                                        <div class="deadline-header">
                                            <div class="stage-icon d-icon">
                                                <i class="fas fa-cogs"></i>
                                            </div>
                                            <div class="stage-info">
                                                <h5>Desenvolvimento</h5>
                                                <p>Execu√ß√£o e implementa√ß√£o</p>
                                            </div>
                                        </div>
                                        <div class="deadline-inputs">
                                            <div class="time-input-group modern-group">
                                                <label for="deadlineD" class="modern-label">
                                                    <i class="fas fa-clock"></i> Prazo
                                                </label>
                                                <div class="time-input-wrapper">
                                                    <input type="number" id="deadlineD" class="modern-input" min="1">
                                                    <select class="deadline-unit-select modern-select" id="unitD">
                                                        <option value="seconds">Segundos</option>
                                                        <option value="minutes">Minutos</option>
                                                        <option value="hours" selected>Horas</option>
                                                        <option value="days">Dias</option>
                                                        <option value="weeks">Semanas</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="descriptionD" class="modern-label">
                                                    <i class="fas fa-align-left"></i> Descri√ß√£o da Etapa
                                                </label>
                                                <textarea id="descriptionD" class="modern-textarea" rows="2" placeholder="Descreva as atividades desta etapa..."></textarea>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="pathD" class="modern-label">
                                                    <i class="fas fa-folder-open"></i> Caminho do Arquivo
                                                </label>
                                                <div class="input-wrapper">
                                                    <input type="text" id="pathD" class="modern-input" placeholder="Ex: /caminho/para/arquivo/documento.pdf">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="deadline-card" data-stage="E">
                                        <div class="deadline-header">
                                            <div class="stage-icon e-icon">
                                                <i class="fas fa-vial"></i>
                                            </div>
                                            <div class="stage-info">
                                                <h5>Execu√ß√£o e Testes</h5>
                                                <p>Valida√ß√£o e qualidade</p>
                                            </div>
                                        </div>
                                        <div class="deadline-inputs">
                                            <div class="time-input-group modern-group">
                                                <label for="deadlineE" class="modern-label">
                                                    <i class="fas fa-clock"></i> Prazo
                                                </label>
                                                <div class="time-input-wrapper">
                                                    <input type="number" id="deadlineE" class="modern-input" min="1">
                                                    <select class="deadline-unit-select modern-select" id="unitE">
                                                        <option value="seconds">Segundos</option>
                                                        <option value="minutes">Minutos</option>
                                                        <option value="hours" selected>Horas</option>
                                                        <option value="days">Dias</option>
                                                        <option value="weeks">Semanas</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="descriptionE" class="modern-label">
                                                    <i class="fas fa-align-left"></i> Descri√ß√£o da Etapa
                                                </label>
                                                <textarea id="descriptionE" class="modern-textarea" rows="2" placeholder="Descreva as atividades desta etapa..."></textarea>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="pathE" class="modern-label">
                                                    <i class="fas fa-folder-open"></i> Caminho do Arquivo
                                                </label>
                                                <div class="input-wrapper">
                                                    <input type="text" id="pathE" class="modern-input" placeholder="Ex: /caminho/para/arquivo/documento.pdf">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="deadline-card" data-stage="C">
                                        <div class="deadline-header">
                                            <div class="stage-icon c-icon">
                                                <i class="fas fa-check-double"></i>
                                            </div>
                                            <div class="stage-info">
                                                <h5>Conclus√£o</h5>
                                                <p>Finaliza√ß√£o e entrega</p>
                                            </div>
                                        </div>
                                        <div class="deadline-inputs">
                                            <div class="time-input-group modern-group">
                                                <label for="deadlineC" class="modern-label">
                                                    <i class="fas fa-clock"></i> Prazo
                                                </label>
                                                <div class="time-input-wrapper">
                                                    <input type="number" id="deadlineC" class="modern-input" min="1">
                                                    <select class="deadline-unit-select modern-select" id="unitC">
                                                        <option value="seconds">Segundos</option>
                                                        <option value="minutes">Minutos</option>
                                                        <option value="hours" selected>Horas</option>
                                                        <option value="days">Dias</option>
                                                        <option value="weeks">Semanas</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="descriptionC" class="modern-label">
                                                    <i class="fas fa-align-left"></i> Descri√ß√£o da Etapa
                                                </label>
                                                <textarea id="descriptionC" class="modern-textarea" rows="2" placeholder="Descreva as atividades desta etapa..."></textarea>
                                            </div>
                                            <div class="form-group modern-group">
                                                <label for="pathC" class="modern-label">
                                                    <i class="fas fa-folder-open"></i> Caminho do Arquivo
                                                </label>
                                                <div class="input-wrapper">
                                                    <input type="text" id="pathC" class="modern-input" placeholder="Ex: /caminho/para/arquivo/documento.pdf">                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Relationships -->
                    <div class="form-step" data-step="3">
                        <div class="step-header">
                            <h3><i class="fas fa-project-diagram"></i> Relacionamentos</h3>
                            <p>Conecte este RIDEC com outros processos (opcional)</p>
                        </div>
                        
                        <div class="form-card">
                            <div class="relations-section">
                                <div class="relation-card">
                                    <div class="relation-header">
                                        <div class="relation-icon start-icon">
                                            <i class="fas fa-arrow-right"></i>
                                        </div>
                                        <div class="relation-info">
                                            <h5>RIDEC de In√≠cio</h5>
                                            <p>Processo que deve ser conclu√≠do antes deste</p>
                                        </div>
                                    </div>
                                    <div class="relation-input">
                                        <select id="startRidec" class="modern-select">
                                            <option value="">Nenhum (processo independente)</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="relation-card">
                                    <div class="relation-header">
                                        <div class="relation-icon end-icon">
                                            <i class="fas fa-arrow-left"></i>
                                        </div>
                                        <div class="relation-info">
                                            <h5>RIDEC de Fim</h5>
                                            <p>Processo que deve iniciar ap√≥s este</p>
                                        </div>
                                    </div>
                                    <div class="relation-input">
                                        <select id="endRidec" class="modern-select">
                                            <option value="">Nenhum (processo final)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer modern-footer">
                <div class="footer-actions">
                    <button type="button" class="btn btn-secondary modern-btn" id="cancelBtn">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <div class="step-navigation">
                        <button type="button" class="btn btn-outline modern-btn" id="prevBtn" style="display: none;">
                            <i class="fas fa-chevron-left"></i> Anterior
                        </button>
                        <button type="button" class="btn btn-primary modern-btn" id="nextBtn">
                            Pr√≥ximo <i class="fas fa-chevron-right"></i>
                        </button>
                        <button type="button" class="btn btn-success modern-btn" id="saveBtn" style="display: none;">
                            <i class="fas fa-save"></i> Salvar RIDEC
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for adding stage A -->
    <div id="stageAModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Adicionar Etapa A</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="stageAForm">
                    <div class="form-group">
                        <label for="stageAPosition">Posi√ß√£o da Etapa A:</label>
                        <select id="stageAPosition" required>
                            <option value="">Selecione a posi√ß√£o</option>
                            <option value="ri-d">Entre RI e D</option>
                            <option value="d-e">Entre D e E</option>
                            <option value="e-c">Entre E e C</option>
                            <option value="after-c">Depois do C</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="stageADeadline">Prazo da Etapa A:</label>
                        <div class="time-input-group">
                            <input type="number" id="stageADeadline" min="1" required>
                            <select class="deadline-unit-select" id="stageAUnit">
                                <option value="seconds">Segundos</option>
                                <option value="minutes">Minutos</option>
                                <option value="hours" selected>Horas</option>
                                <option value="days">Dias</option>
                                <option value="weeks">Semanas</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="stageADescription">Descri√ß√£o da Etapa A:</label>
                        <textarea id="stageADescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="stageAIdentifier">Identificador da Etapa A:</label>
                        <input type="text" id="stageAIdentifier" placeholder="Ex: A1, A2, Revis√£o, etc." required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelStageABtn">Cancelar</button>
                <button type="button" class="btn btn-primary" id="saveStageABtn">Adicionar</button>
            </div>
        </div>
    </div>

    <!-- Auto Create RIDEC Modal -->
    <div id="autoCreateModal" class="modal">
        <div class="modal-content auto-create-content">
            <div class="modal-header">
                <h2><i class="fas fa-magic"></i> Criar RIDECs com IA</h2>
                <button class="close" id="closeAutoCreateModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="ai-intro">
                    <div class="ai-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>ü§ñ Cria√ß√£o Autom√°tica de RIDECs</h3>
                    <p class="ai-description">
                        <strong>Descreva seu processo livremente</strong> e a IA criar√° automaticamente os modelos de RIDEC com configura√ß√µes otimizadas!
                    </p>
                </div>
                
                <div class="process-description-section">
                    <label for="processDescription">üìù Descreva seu processo:</label>
                    <textarea 
                        id="processDescription" 
                        placeholder="Exemplo: Processo de desenvolvimento de software que leva 40 horas, com an√°lise de requisitos, codifica√ß√£o, testes e documenta√ß√£o, responsabilidade da √°rea de TI..."
                        rows="6"
                    ></textarea>
                </div>

                <div class="ai-examples">
                    <h4>üí° Exemplos de descri√ß√µes:</h4>
                    <div class="example-cards">
                        <div class="example-card" onclick="ridecSystem.fillExample('desenvolvimento')">
                            <h5>üñ•Ô∏è Desenvolvimento de Software</h5>
                            <p>"Processo de desenvolvimento com an√°lise, codifica√ß√£o, testes e documenta√ß√£o"</p>
                        </div>
                        <div class="example-card" onclick="ridecSystem.fillExample('aprovacao')">
                            <h5>üìã Fluxo de Aprova√ß√£o</h5>
                            <p>"Fluxo de aprova√ß√£o com revis√£o t√©cnica e valida√ß√£o gerencial"</p>
                        </div>
                        <div class="example-card" onclick="ridecSystem.fillExample('onboarding')">
                            <h5>üë• Onboarding</h5>
                            <p>"Processo de onboarding com documenta√ß√£o, treinamento e integra√ß√£o"</p>
                        </div>
                    </div>
                </div>

                <div class="ai-features">
                    <h4>‚ú® O que a IA faz automaticamente:</h4>
                    <ul>
                        <li>üîç <strong>Analisa</strong> sua descri√ß√£o e identifica etapas</li>
                        <li>‚è∞ <strong>Calcula</strong> prazos otimizados para cada etapa</li>
                        <li>üè¢ <strong>Define</strong> a √°rea respons√°vel</li>
                        <li>üîß <strong>Cria</strong> etapas A personalizadas quando necess√°rio</li>
                        <li>üìä <strong>Configura</strong> todas as m√©tricas automaticamente</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button id="createRidecsBtn" class="btn btn-ai">
                    <i class="fas fa-magic"></i> Criar RIDECs Automaticamente
                </button>
                <button id="cancelAutoCreateBtn" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal do Chat com IA -->
    <div id="aiChatModal" class="modal ai-chat-modal">
        <div class="modal-content ai-chat-content">
            <div class="modal-header ai-chat-header">
                <h2><i class="fas fa-robot"></i> Assistente IA - RIDECs</h2>
                <span class="close" id="closeAiChat">&times;</span>
            </div>
            <div class="modal-body ai-chat-body">
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-text">
                                    ü§ñ <strong>Ol√°! Sou seu Assistente IA para RIDECs</strong><br><br>
                                    Posso responder suas perguntas sobre:
                                    <br>‚Ä¢ üìä Estat√≠sticas e relat√≥rios
                                    <br>‚Ä¢ ‚è∞ Tempos e prazos
                                    <br>‚Ä¢ üè¢ RIDECs por √°rea
                                    
                                    <br>‚Ä¢ üìà An√°lises de performance
                                </div>
                                <div class="message-suggestions">
                                    <button class="suggestion-btn" onclick="ridecSystem.sendSuggestion('Quantos RIDECs est√£o atrasados?')">
                                        ‚ö†Ô∏è Quantos RIDECs est√£o atrasados?
                                    </button>
                                    <button class="suggestion-btn" onclick="ridecSystem.sendSuggestion('Mostre estat√≠sticas gerais')">
                                        üìä Mostre estat√≠sticas gerais
                                    </button>
                                    <button class="suggestion-btn" onclick="ridecSystem.sendSuggestion('Como criar uma nova ocorr√™ncia?')">
                                        ‚ûï Como criar uma nova ocorr√™ncia?
                                    </button>
                                    <button class="suggestion-btn" onclick="ridecSystem.sendSuggestion('Qual √°rea tem mais RIDECs?')">
                                        üè¢ Qual √°rea tem mais RIDECs?
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <div class="chat-input-wrapper">
                            <input type="text" id="chatInput" placeholder="Digite sua pergunta sobre RIDECs..." class="chat-input">
                            <button id="sendMessageBtn" class="send-message-btn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bot√£o Flutuante do Chat com IA -->
    <div class="floating-ai-chat">
        <button id="aiChatBtn" class="floating-ai-btn" title="Assistente IA - Fa√ßa perguntas sobre RIDECs">
            <div class="ai-btn-content">
                <i class="fas fa-robot"></i>
                <span class="ai-btn-text">IA</span>
            </div>
            <div class="ai-pulse-ring"></div>
            <div class="ai-sparkles">
                <i class="fas fa-sparkles"></i>
            </div>
        </button>
    </div>

    <!-- Modal para configura√ß√£o de integra√ß√µes -->
    <div id="integrationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-plug"></i> Configurar Integra√ß√µes</h2>
                <span class="close" onclick="ridecSystem.closeIntegrationModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="integration-config">
                    <div class="integration-header">
                        <h3 id="integrationRidecTitle">Configurar Integra√ß√µes do RIDEC</h3>
                        <p class="integration-description">Defina quais sistemas externos podem disparar automaticamente os bot√µes de tempo das etapas</p>
                    </div>
                    
                    <div class="integration-systems">
                        <h4>Sistemas Dispon√≠veis</h4>
                        <div class="systems-grid">
                            <div class="system-card" data-system="slack">
                                <div class="system-icon">
                                    <i class="fab fa-slack"></i>
                                </div>
                                <div class="system-info">
                                    <h5>Slack</h5>
                                    <p>Integra√ß√£o com canais e mensagens</p>
                                </div>
                                <div class="system-status">
                                    <span class="status-badge connected">Conectado</span>
                                </div>
                            </div>
                            
                            <div class="system-card" data-system="jira">
                                <div class="system-icon">
                                    <i class="fab fa-jira"></i>
                                </div>
                                <div class="system-info">
                                    <h5>Jira</h5>
                                    <p>Integra√ß√£o com tickets e workflows</p>
                                </div>
                                <div class="system-status">
                                    <span class="status-badge connected">Conectado</span>
                                </div>
                            </div>
                            
                            <div class="system-card" data-system="teams">
                                <div class="system-icon">
                                    <i class="fab fa-microsoft"></i>
                                </div>
                                <div class="system-info">
                                    <h5>Microsoft Teams</h5>
                                    <p>Integra√ß√£o com chats e reuni√µes</p>
                                </div>
                                <div class="system-status">
                                    <span class="status-badge disconnected">Desconectado</span>
                                </div>
                            </div>
                            
                            <div class="system-card" data-system="email">
                                <div class="system-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="system-info">
                                    <h5>Email</h5>
                                    <p>Integra√ß√£o com caixas de entrada</p>
                                </div>
                                <div class="system-status">
                                    <span class="status-badge connected">Conectado</span>
                                </div>
                            </div>
                            
                            <div class="system-card" data-system="webhook">
                                <div class="system-icon">
                                    <i class="fas fa-link"></i>
                                </div>
                                <div class="system-info">
                                    <h5>Webhook Customizado</h5>
                                    <p>Integra√ß√£o via API personalizada</p>
                                </div>
                                <div class="system-status">
                                    <span class="status-badge disconnected">Desconectado</span>
                                </div>
                            </div>
                            
                            <div class="system-card" data-system="calendar">
                                <div class="system-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="system-info">
                                    <h5>Google Calendar</h5>
                                    <p>Integra√ß√£o com eventos e reuni√µes</p>
                                </div>
                                <div class="system-status">
                                    <span class="status-badge connected">Conectado</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stage-integrations">
                        <h4>Configura√ß√£o por Etapa</h4>
                        <div class="stages-integration-list" id="stagesIntegrationList">
                            <!-- Lista de etapas ser√° gerada dinamicamente -->
                        </div>
                    </div>
                    
                    <div class="integration-triggers">
                        <h4>Triggers Autom√°ticos</h4>
                        <div class="triggers-config">
                            <div class="trigger-item">
                                <div class="trigger-header">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Iniciar Etapa</span>
                                </div>
                                <div class="trigger-options">
                                    <label class="trigger-option">
                                        <input type="checkbox" id="autoStartSlack" checked>
                                        <span class="checkmark"></span>
                                        <span>Slack - Mensagem espec√≠fica</span>
                                    </label>
                                    <label class="trigger-option">
                                        <input type="checkbox" id="autoStartJira" checked>
                                        <span class="checkmark"></span>
                                        <span>Jira - Status alterado</span>
                                    </label>
                                    <label class="trigger-option">
                                        <input type="checkbox" id="autoStartEmail">
                                        <span class="checkmark"></span>
                                        <span>Email - Assunto espec√≠fico</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="trigger-item">
                                <div class="trigger-header">
                                    <i class="fas fa-stop-circle"></i>
                                    <span>Finalizar Etapa</span>
                                </div>
                                <div class="trigger-options">
                                    <label class="trigger-option">
                                        <input type="checkbox" id="autoFinishSlack" checked>
                                        <span class="checkmark"></span>
                                        <span>Slack - Comando espec√≠fico</span>
                                    </label>
                                    <label class="trigger-option">
                                        <input type="checkbox" id="autoFinishJira" checked>
                                        <span class="checkmark"></span>
                                        <span>Jira - Ticket fechado</span>
                                    </label>
                                    <label class="trigger-option">
                                        <input type="checkbox" id="autoFinishEmail">
                                        <span class="checkmark"></span>
                                        <span>Email - Confirma√ß√£o</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="ridecSystem.closeIntegrationModal()">Cancelar</button>
                <button class="btn btn-primary" onclick="ridecSystem.saveIntegrationConfig()">
                    <i class="fas fa-save"></i>
                    Salvar Configura√ß√µes
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para configura√ß√£o de integra√ß√µes -->

    <!-- Modal para editar modelo RIDEC -->
    <div id="editModelModal" class="modal modern-modal edit-model-modal">
        <div class="modal-content modern-modal-content edit-model-content">
            <div class="modal-header modern-header">
                <div class="modal-title-section">
                    <div class="modal-icon">
                        <i class="fas fa-edit"></i>
                    </div>
                    <div class="modal-title-content">
                        <h2 id="editModelModalTitle">Editar Modelo RIDEC</h2>
                        <p class="modal-subtitle">Visualize e edite as informa√ß√µes do modelo</p>
                        <div class="modal-header-actions" style="display: flex; gap: 8px; margin-top: 12px;">
                            <button type="button" class="btn btn-success btn-sm" id="createOccurrenceFromModelBtn" title="Criar Ocorr√™ncia">
                                <i class="fas fa-plus-circle"></i> Criar Ocorr√™ncia
                            </button>
                            <button type="button" class="btn btn-info btn-sm" id="configureIntegrationsFromModelBtn" title="Configurar Integra√ß√µes">
                                <i class="fas fa-plug"></i> Integra√ß√µes
                            </button>
                            <button type="button" class="btn btn-danger btn-sm" id="deleteModelFromModalBtn" title="Excluir Modelo">
                                <i class="fas fa-trash"></i> Excluir
                            </button>
                        </div>
                    </div>
                </div>
                <span class="close modern-close" id="closeEditModelModal">&times;</span>
            </div>
            
            <div class="modal-body modern-body edit-model-body">
                <div class="edit-model-grid">
                    <!-- Se√ß√£o 1: Informa√ß√µes do Modelo -->
                    <div class="model-info-section">
                        <div class="section-header">
                            <h3><i class="fas fa-info-circle"></i> Informa√ß√µes do Modelo</h3>
                        </div>
                        <div class="model-info-grid">
                            <div class="info-field">
                                <label>Nome do Modelo</label>
                                <div class="info-value" id="editModelName">-</div>
                            </div>
                            <div class="info-field">
                                <label>√Årea</label>
                                <div class="info-value" id="editModelArea">-</div>
                            </div>
                            <div class="info-field">
                                <label>Tipo de Modelo</label>
                                <div class="info-value" id="editModelType">-</div>
                            </div>
                            <div class="info-field">
                                <label>Valor UOM</label>
                                <div class="info-value" id="editModelUom">-</div>
                            </div>
                            <div class="info-field">
                                <label>Valor NC (%)</label>
                                <div class="info-value" id="editModelNc">-</div>
                            </div>
                            <div class="info-field full-width">
                                <label>Descri√ß√£o</label>
                                <div class="info-value" id="editModelDescription">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Se√ß√£o 2: Etapas do Modelo -->
                    <div class="model-stages-section">
                        <div class="section-header">
                            <h3><i class="fas fa-list-ol"></i> Etapas do Modelo</h3>
                            
                        </div>
                        <div class="stages-grid" id="editModelStages">
                            <!-- Etapas ser√£o carregadas dinamicamente -->
                        </div>
                    </div>

                    <!-- Se√ß√£o 3: Ocorr√™ncias -->
                    <div class="model-occurrences-section">
                        <div class="occurrences-container">
                            <!-- Ocorr√™ncias Ativas -->
                            <div class="occurrence-expander">
                                <div class="expander-header" id="activeOccurrencesHeader">
                                    <div class="expander-title">
                                        <i class="fas fa-play-circle"></i>
                                        <span>Ocorr√™ncias Ativas</span>
                                        <span class="occurrence-count" id="activeOccurrencesCount">0</span>
                                    </div>
                                    <div class="expander-toggle">
                                        <i class="fas fa-chevron-down expander-icon"></i>
                                    </div>
                                </div>
                                <div class="expander-content" id="activeOccurrencesContent">
                                    <div class="occurrences-list" id="activeOccurrencesList">
                                        <!-- Lista de ocorr√™ncias ativas -->
                                    </div>
                                </div>
                            </div>

                            <!-- Ocorr√™ncias Conclu√≠das -->
                            <div class="occurrence-expander">
                                <div class="expander-header" id="completedOccurrencesHeader">
                                    <div class="expander-title">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Ocorr√™ncias Conclu√≠das</span>
                                        <span class="occurrence-count" id="completedOccurrencesCount">0</span>
                                    </div>
                                    <div class="expander-toggle">
                                        <i class="fas fa-chevron-down expander-icon"></i>
                                    </div>
                                </div>
                                <div class="expander-content" id="completedOccurrencesContent">
                                    <div class="occurrences-list" id="completedOccurrencesList">
                                        <!-- Lista de ocorr√™ncias conclu√≠das -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer modern-footer">
                <div class="footer-actions">
                    <button type="button" class="btn btn-secondary modern-btn" id="cancelEditModelBtn">
                        <i class="fas fa-times"></i> Fechar
                    </button>
                    <button type="button" class="btn btn-primary modern-btn" id="saveEditModelBtn">
                        <i class="fas fa-save"></i> Salvar Altera√ß√µes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para criar ocorr√™ncia -->
    <div id="createOccurrenceModal" class="modal modern-modal">
        <div class="modal-content modern-modal-content">
            <div class="modal-header modern-header">
                <div class="modal-title-section">
                    <div class="modal-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="modal-title-content">
                        <h2 id="createOccurrenceModalTitle">Novo Card</h2>
                        <p class="modal-subtitle">Preencha os dados para criar um card</p>
                    </div>
                </div>
                <span class="close modern-close" id="closeCreateOccurrenceModal">&times;</span>
            </div>
            
            <div class="modal-body modern-body">
                <form id="createOccurrenceForm" class="modern-form">
                    <div class="form-card">
                        <div class="form-group modern-group">
                            <label for="externalId" class="modern-label">
                                <i class="fas fa-tag"></i> ID Externo
                            </label>
                            <div class="input-wrapper">
                                <input type="text" id="externalId" class="modern-input" placeholder="Digite o ID externo da ocorr√™ncia" required>
                                <div class="input-icon">
                                    <i class="fas fa-check-circle valid-icon"></i>
                                    <i class="fas fa-exclamation-circle error-icon"></i>
                                </div>
                            </div>
                            <div class="input-feedback"></div>
                        </div>
                        
                        <div class="form-group modern-group">
                            <div class="expander-container">
                                <div class="expander-header" id="modelInfoExpanderHeader">
                                    <div class="expander-title">
                                        <i class="fas fa-info-circle"></i>
                                        <span>Informa√ß√µes do Modelo</span>
                                    </div>
                                    <div class="expander-toggle">
                                        <i class="fas fa-chevron-down expander-icon"></i>
                                    </div>
                                </div>
                                
                                <div class="expander-content" id="modelInfoExpanderContent">
                                    <div class="info-display">
                                        <div class="info-item">
                                            <span class="info-label">Modelo RIDEC:</span>
                                            <span id="selectedModelTitle" class="info-value">-</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">√Årea:</span>
                                            <span id="selectedModelArea" class="info-value">-</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Descri√ß√£o:</span>
                                            <span id="selectedModelDescription" class="info-value">-</span>
                                        </div>
                                        
                                        <!-- Se√ß√£o de Etapas RIDEC -->
                                        <div class="stages-info-section" id="stages-info-section">
                                            <h4 class="stages-info-title">
                                                <i class="fas fa-list-ol"></i> Etapas do Modelo
                                            </h4>
                                            
                                            <!-- Etapa RI -->
                                            <div class="stage-info-card" data-stage="RI">
                                                <div class="stage-header">
                                                    <div class="stage-icon ri-icon">
                                                        <i class="fas fa-play"></i>
                                                    </div>
                                                    <div class="stage-title">Requisitos e In√≠cio (RI)</div>
                                                </div>
                                                <div class="stage-details">
                                                    <div class="stage-description">
                                                        <span class="stage-desc-label">Descri√ß√£o:</span>
                                                        <span id="stageRIDescription" class="stage-desc-value">-</span>
                                                    </div>
                                                    <div class="stage-time">
                                                        <span class="stage-time-label">Tempo:</span>
                                                        <span id="stageRITime" class="stage-time-value">-</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Etapa D -->
                                            <div class="stage-info-card" data-stage="D">
                                                <div class="stage-header">
                                                    <div class="stage-icon d-icon">
                                                        <i class="fas fa-cogs"></i>
                                                    </div>
                                                    <div class="stage-title">Desenvolvimento (D)</div>
                                                </div>
                                                <div class="stage-details">
                                                    <div class="stage-description">
                                                        <span class="stage-desc-label">Descri√ß√£o:</span>
                                                        <span id="stageDDescription" class="stage-desc-value">-</span>
                                                    </div>
                                                    <div class="stage-time">
                                                        <span class="stage-time-label">Tempo:</span>
                                                        <span id="stageDTime" class="stage-time-value">-</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Etapa E -->
                                            <div class="stage-info-card" data-stage="E">
                                                <div class="stage-header">
                                                    <div class="stage-icon e-icon">
                                                        <i class="fas fa-vial"></i>
                                                    </div>
                                                    <div class="stage-title">Execu√ß√£o e Testes (E)</div>
                                                </div>
                                                <div class="stage-details">
                                                    <div class="stage-description">
                                                        <span class="stage-desc-label">Descri√ß√£o:</span>
                                                        <span id="stageEDescription" class="stage-desc-value">-</span>
                                                    </div>
                                                    <div class="stage-time">
                                                        <span class="stage-time-label">Tempo:</span>
                                                        <span id="stageETime" class="stage-time-value">-</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Etapa C -->
                                            <div class="stage-info-card" data-stage="C">
                                                <div class="stage-header">
                                                    <div class="stage-icon c-icon">
                                                        <i class="fas fa-check-double"></i>
                                                    </div>
                                                    <div class="stage-title">Conclus√£o (C)</div>
                                                </div>
                                                <div class="stage-details">
                                                    <div class="stage-description">
                                                        <span class="stage-desc-label">Descri√ß√£o:</span>
                                                        <span id="stageCDescription" class="stage-desc-value">-</span>
                                                    </div>
                                                    <div class="stage-time">
                                                        <span class="stage-time-label">Tempo:</span>
                                                        <span id="stageCTime" class="stage-time-value">-</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer modern-footer">
                <div class="footer-actions">
                    <button type="button" class="btn btn-secondary modern-btn" id="cancelCreateOccurrenceBtn">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <button type="button" class="btn btn-primary modern-btn" id="confirmCreateOccurrenceBtn">
                        <i class="fas fa-check"></i> Concluir
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>
    <script src="supabase-database.js"></script>
    <script src="auth-check.js"></script>
    <script src="script.js"></script>
    <script src="integration-example.js"></script>
</body>
</html> 